(this["webpackJsonpreact-particeep"]=this["webpackJsonpreact-particeep"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/close.501d2216.svg"},function(e,t,a){e.exports=a.p+"static/media/gauge.65a7d79f.svg"},function(e,t,a){e.exports=a.p+"static/media/indicator.f26df3e0.svg"},function(e,t,a){e.exports=a.p+"static/media/thumbDown.527f053a.svg"},function(e,t,a){e.exports=a.p+"static/media/thumbUp.1955e176.svg"},,function(e,t,a){e.exports=a(38)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(6),c=a.n(i),l=(a(24),a(18)),s=a(1),o=(a(25),[{id:"1",title:"Oceans 8",category:"Comedy",likes:4,dislikes:1},{id:"2",title:"Midnight Sun",category:"Comedy",likes:2,dislikes:0},{id:"3",title:"Les indestructibles 2",category:"Animation",likes:3,dislikes:1},{id:"4",title:"Sans un bruit",category:"Thriller",likes:6,dislikes:6},{id:"5",title:"Creed II",category:"Drame",likes:16,dislikes:2},{id:"6",title:"Pulp Fiction",category:"Thriller",likes:11,dislikes:3},{id:"7",title:"Pulp Fiction",category:"Thriller",likes:12333,dislikes:32},{id:"8",title:"Seven",category:"Thriller",likes:2,dislikes:1},{id:"9",title:"Inception",category:"Thriller",likes:2,dislikes:1},{id:"10",title:"Gone Girl",category:"Thriller",likes:22,dislikes:12}]),u=new Promise((function(e,t){return setTimeout(e,100,o)})),g=(a(26),a(27),a(2)),m=Object(g.b)(void 0,(function(e){return{setCurrentCategoryReducer:function(t){return e({type:"SET_CURRENT_CATEGORY",currentCategory:t})},setMoviesPerPageReducer:function(t){return e({type:"SET_MOVIES_PER_PAGE",moviesPerPage:t})}}}))((function(e){var t=e.label,a=e.content,i=e.defaultValue,c=e.setCurrentCategoryReducer,l=e.setMoviesPerPageReducer,o=Object(n.useState)(i),u=Object(s.a)(o,2),g=u[0],m=u[1];return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:t},t,":"),r.a.createElement("select",{name:t,value:g,onChange:function(e){m(e.target.value),"Cat\xe9gories"===t&&c(e.target.value),"Films par page"===t&&l(e.target.value)}},r.a.createElement("option",{value:i},i),a.map((function(e,t){return e!==i&&r.a.createElement("option",{key:t,value:e},e)}))))})),d=function(e){var t=e.categoriesList;return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement(m,{label:"Cat\xe9gories",content:t,defaultValue:"all"})))},f=a(12),v=(a(33),a(34),a(13)),E=a.n(v),b=a(14),p=a.n(b),P=a(15),y=a.n(P),O=a(16),k=a.n(O),h=a(17),C=a.n(h),j=function(e){var t=e.deleteMovie,a=e.setUserEvaluation,n=e.id,i=e.title,c=e.category,l=e.likes,s=e.dislikes,o=e.evaluation,u="like"===o?l+1:l,g="dislike"===o?s+1:s,m=u/(u+g)*180-90;return r.a.createElement("div",{className:"movie"},r.a.createElement("h4",null,c),r.a.createElement("button",{className:"delete",onClick:function(){return t(n,c)}},r.a.createElement("img",{src:E.a,className:"close",alt:"close"})),r.a.createElement("h3",null,i),r.a.createElement("div",{className:"gauge-container"},r.a.createElement("img",{src:y.a,className:"indicator",alt:"indicator",style:{transform:"translate(-50%, 43px) rotate("+m+"deg)"}}),r.a.createElement("img",{src:p.a,className:"gauge",alt:"gauge"})),r.a.createElement("div",{className:"evaluation-buttons"},r.a.createElement("div",{onClick:function(){return a(n,"dislike")},className:"dislike"},r.a.createElement("img",{src:k.a,className:"thumb",alt:"thumb down"})),r.a.createElement("div",{onClick:function(){return a(n,"like")},className:"like"},r.a.createElement("img",{src:C.a,className:"thumb",alt:"thumb up"}))),r.a.createElement("div",{className:"evaluation-count"},r.a.createElement("p",null,g," dislikes"),r.a.createElement("p",null,u," likes")),r.a.createElement("div",{className:"evaluation-user"},"like"===o?r.a.createElement("span",{className:"evaluation-like"},"Vous avez lik\xe9 ce film"):"dislike"===o?r.a.createElement("span",{className:"evaluation-dislike"},"Vous avez dislik\xe9 ce film"):r.a.createElement("span",null)))};function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=Object(g.b)((function(e){return{currentCategory:e.setCurrentCategoryReducer,moviesPerPage:e.setMoviesPerPageReducer,currentPage:e.setCurrentPageReducer}}),(function(e){return{setCurrentCategoryReducer:function(t){return e({type:"SET_CURRENT_CATEGORY",currentCategory:t})},setCurrentPageReducer:function(t){return e({type:"SET_CURRENT_PAGE",currentPage:t})}}}))((function(e){var t=e.isLoading,a=e.moviesList,i=e.setMoviesList,c=e.currentCategory,l=e.setCurrentCategoryReducer,o=e.moviesPerPage,u=e.setTotalPages,g=e.currentPage,m=e.setCurrentPageReducer,d=e.categoriesList,f=e.setCategoriesList,v=Object(n.useState)(a),E=Object(s.a)(v,2),b=E[0],p=E[1],P=Object(n.useState)(b),y=Object(s.a)(P,2),O=y[0],k=y[1];function h(e,t){i(a.map((function(a){return a.id===e?a.evaluation===t?T({},a,{evaluation:""}):T({},a,{evaluation:t}):a})))}function C(e,t){i(a.filter((function(t){return t.id!==e}))),1===O.length&&g>1&&m(g-1),1===a.filter((function(e){return e.category===t})).length&&(f(d.filter((function(e){return e!==t}))),l("all"))}return Object(n.useEffect)((function(){p("all"===c?a:a.filter((function(e){return e.category===c})))}),[c,a]),Object(n.useEffect)((function(){u(Math.ceil(b.length/o))}),[b,o,u]),Object(n.useEffect)((function(){k(b.slice((g-1)*o,g*o))}),[b,g,o]),Object(n.useEffect)((function(){var e=setTimeout((function(){return document.getElementsByTagName("main")[0].classList.remove("gauge-inactive")}),300);return function(){document.getElementsByTagName("main")[0].classList.add("gauge-inactive"),clearTimeout(e)}}),[c,g,o]),r.a.createElement("main",{className:"gauge-inactive"},r.a.createElement("div",{className:"movie-list container"},a.length>0?O.map((function(e){return r.a.createElement(j,{key:e.id,id:e.id,title:e.title,category:e.category,likes:e.likes,dislikes:e.dislikes,evaluation:e.evaluation,deleteMovie:C,setUserEvaluation:h})})):t?r.a.createElement("p",null,"La vid\xe9oth\xe8que est en cours de chargement."):r.a.createElement("p",null,"La vid\xe9oth\xe8que est vide.")))})),S=(a(35),a(36),a(37),function(e){var t=e.lib,a=e.onclick,n=e.disabled;return r.a.createElement("input",{type:"button",value:t,onClick:a,disabled:n})}),w=Object(g.b)((function(e){return{currentCategory:e.setCurrentCategoryReducer,currentPage:e.setCurrentPageReducer}}),(function(e){return{setCurrentPageReducer:function(t){return e({type:"SET_CURRENT_PAGE",currentPage:t})}}}))((function(e){var t=e.currentPage,a=e.totalPages,i=e.setCurrentPageReducer,c=e.currentCategory,l=Object(n.useState)(!1),o=Object(s.a)(l,2),u=o[0],g=o[1],m=Object(n.useState)(!1),d=Object(s.a)(m,2),f=d[0],v=d[1];return Object(n.useEffect)((function(){i(1)}),[c,i]),Object(n.useEffect)((function(){g(1===t),v(t===a||0===a)}),[t,a]),r.a.createElement("div",{className:"pagination"},t," / ",a,r.a.createElement(S,{disabled:u,onclick:function(){i(--t)},lib:"page pr\xe9c\xe9dente"}),r.a.createElement(S,{disabled:f,onclick:function(){i(++t)},lib:"page suivante"}))})),_=Object(g.b)((function(e){return{moviesPerPage:e.setMoviesPerPageReducer}}),void 0)((function(e){var t=e.moviesPerPage,a=e.totalPages;return r.a.createElement("footer",null,r.a.createElement("div",{className:"container"},r.a.createElement(m,{label:"Films par page",content:[4,8,12],defaultValue:parseInt(t)}),r.a.createElement(w,{totalPages:a})))})),L=function(){Object(n.useEffect)((function(){u.then((function(e){m(e),i(!1)})).catch((function(e){return console.log(e)}))}),[]);var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)([]),o=Object(s.a)(c,2),g=o[0],m=o[1],f=Object(n.useState)([]),v=Object(s.a)(f,2),E=v[0],b=v[1],p=Object(n.useState)(1),P=Object(s.a)(p,2),y=P[0],O=P[1];return Object(n.useEffect)((function(){b(Object(l.a)(new Set(g.map((function(e){return e.category})))))}),[g]),r.a.createElement("div",{className:"App"},r.a.createElement(d,{categoriesList:E}),r.a.createElement(N,{isLoading:a,moviesList:g,setMoviesList:m,setTotalPages:O,categoriesList:E,setCategoriesList:b}),r.a.createElement(_,{totalPages:y}))},M=a(5),A="SET_CURRENT_CATEGORY",G="SET_CURRENT_PAGE",U="SET_MOVIES_PER_PAGE";var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return t.currentCategory;default:return e}};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return t.currentPage;default:return e}};var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return t.moviesPerPage;default:return e}},D=Object(M.b)({setCurrentCategoryReducer:x,setCurrentPageReducer:I,setMoviesPerPageReducer:V}),F=Object(M.c)(D);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g.a,{store:F},r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[19,1,2]]]);
//# sourceMappingURL=main.f5411529.chunk.js.map